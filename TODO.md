1. Заменить const std::string на std::string_view ?
2. Добавить тесты на ошибки as is? Выдали ошибку - получили сообщение